!function(){function n(){var n=e(o[0],"step");o.removeClass(n),o.addClass("step"+m.page)}function e(n,e){if(!n||!e)return!1;var o="",a=n.className.indexOf(e),t=n.className.indexOf(" ",a);return o=-1!=a&&-1===t?n.className.slice(a):n.className.slice(a,t)}var o=$(".p-section"),a=$(".gift-wrap"),t=($(".drawing-picture-color"),$(".controller-wrap"),$(".words-3"),$(".donate-send-btn")),g=$(".donate-share-btn"),i=$(".donate-bg"),l=$(".donate-box-wrap"),r=$(".check-wrap"),s=($(".donate-btn-20"),$(".donate-btn-50"),$(".donate-btn-100"),$(".donate-btn-500"),$(".donate-btn-other"),$(".rule-close-btn")),d=$(".box-close-btn"),p=$(".loading-page"),c=$(".loading-number");arrow_down=$(".arrow-down"),rainbow_change=$(".rainbow-change"),share_wrap=$(".share-wrap");var m={page:0,length:5,time_list:[4,.5,4.1,1,1,1,1],callback_list:[function(){n(),console.log("0")},function(){n(),console.log("1")},function(){n(),a.touchable=!1,m.nextable=!0,m.preable=!0,o.removeClass("gift-down"),console.log("2")},function(){n(),a.touchable=!0,m.nextable=!1,m.preable=!1,arrow_down.addClass("hide"),console.log("3")},function(){n(),o.removeClass("gift-down"),console.log("4")},function(){n(),console.log("5")},function(){n(),console.log("6")}],animating:!1,nextable:!1,preable:!1},b=["../img/bg-crow.jpg","../img/cloud-1.png","../img/cloud-2.png","../img/cloud-3.png","../img/cloud-ori.png","../img/donate-bg.jpg","../img/donate-box.png","../img/donate-btn-20.png","../img/donate-btn-50.png","../img/donate-btn-100.png","../img/donate-btn-500.png","../img/donate-btn-other.png","../img/donate-send-btn.png","../img/donate-share-btn.png","../img/drawing-chair-color.png","../img/drawing-chair.png","../img/drawing-girl-color.png","../img/drawing-girl-stand.png","../img/drawing-girl.png","../img/drawing-hand-color.png","../img/drawing-hand.png","../img/drawing-picture.png","../img/footer-bottom.jpg","../img/footer-color.png","../img/footer-top.png","../img/gift-box-inner.png","../img/gift-box-wrap.png","../img/gift-item.png","../img/gift-list.png","../img/girl-raise-left-hand.png","../img/girl-raise-right-hand.png","../img/girl-stand-left-hand.png","../img/girl-stand-right-hand.png","../img/guide-bottom.jpg","../img/guide-title.png","../img/guide-top.jpg","../img/guide-words.png","../img/left-ballon.png","../img/middle-ballon.png","../img/picture-color.png","../img/picture-nocolor.png","../img/rainbow-show.png","../img/rainbow.png","../img/right-ballon.png","../img/rule-close-btn.png","../img/the_rule.png","../img/tree-band.png","../img/words-1.png","../img/words-2.png","../img/words-3.png"];new mo.Loader(b,{onLoading:function(n,e){console.log("onloading:single loaded:",arguments),c.html(parseInt(n/e*100))},onComplete:function(){console.log("oncomplete:all source loaded:",arguments),c.html(100),o.addClass("step0"),setTimeout(function(){p.css("display","none")},200),setTimeout(function(){m.nextable=!0,m.preable=!0,arrow_down.removeClass("hide")},4e3)}});{var u=function(n){switch(n.type){case"swipeup":if(m.nextable&&!m.animating&&m.page<m.length){m.page+=1,m.animating=!0,m.callback_list[m.page]();var e=Number(1e3*m.time_list[m.page]);arrow_down.addClass("hide"),setTimeout(function(){m.animating=!1,m.nextable&&arrow_down.removeClass("hide")},e)}break;case"swipedown":m.preable&&!m.animating&&m.page>0&&(m.page-=1,m.callback_list[m.page]())}},w=document;new mo.Gesture(w).addGesture("swipeup swipedown",u)}a.touchable=!1,a.on("touchstart",function(){a.touchable&&(o.addClass("gift-down"),a.touchable=!1,setTimeout(function(){m.nextable=!0,m.preable=!0,arrow_down.removeClass("hide")},2e3))}),t.on("touchstart",function(){i.addClass("show-box"),l.addClass("show-rule"),m.nextable=!1,m.preable=!1}),g.on("touchstart",function(){share_wrap.css("display","block"),m.nextable=!1,m.preable=!1}),share_wrap.on("touchstart",function(){share_wrap.css("display","none"),m.nextable=!0,m.preable=!0}),r.on("touchstart",function(){$(this).toggleClass("checked")}),d.on("touchstart",function(){i.removeClass("show-box"),m.nextable=!0,m.preable=!0}),s.on("touchstart",function(){l.removeClass("show-rule")})}();